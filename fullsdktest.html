<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>LiveAvatar FULL SDK Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      padding: 20px;
    }
    button {
      padding: 12px 20px;
      font-size: 16px;
      cursor: pointer;
    }
    pre {
      background: #222;
      padding: 10px;
      margin-top: 15px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h2>LiveAvatar FULL SDK Test</h2>

<button id="startSession">▶ Start FULL Session</button>

<pre id="log"></pre>

<script>
const API_KEY = "a6b7985a-c4da-11f0-a99e-066a7fa2e369";
const AVATAR_ID = "bf00036b-558a-44b5-b2ff-1e3cec0f4ceb";
const CONTEXT_ID = "01bf4d22-1fda-444f-9e2c-a23494aa2fc2";

const log = (msg) => {
  document.getElementById("log").textContent += msg + "\n";
};

document.getElementById("startSession").onclick = async () => {
  log("Starting FULL session...");

  const response = await fetch("https://api.liveavatar.com/v1/sessions", {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${API_KEY}`,
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      avatar_id: AVATAR_ID,
      context_id: CONTEXT_ID,
      mode: "FULL"
    })
  });

  const data = await response.json();

  if (!response.ok) {
    log("ERROR:");
    log(JSON.stringify(data, null, 2));
    return;
  }

  log("SESSION CREATED:");
  log(JSON.stringify(data, null, 2));

  // ВАЖНО
  log("SAVE session_id:");
  log(data.session_id);
};
</script>

</body>
</html>
